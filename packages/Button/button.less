@import '../_theme/variable.less';

@prefix: prefix('btn');
@dangerClass: ~'@{prefix}-danger';
@ghostClass: ~'@{prefix}-ghost';
@loadingClass: ~'@{prefix}-loading';

@{prefix} {
  position: relative;
  box-sizing: border-box;
  font-size: @fontSize;
  background-color: white;
  border-radius: @borderRadius;
  outline: none;
  border: 1px solid @borderColor;
  cursor: pointer;
  transition: all @duration;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  user-select: none;

  &-block {
    width: 100%;
  }

  &-large {
    font-size: @fontSizeLarge;
    height: 40px;
    padding: 10px 20px;
  }

  &-middle {
    height: 32px;
    padding: 8px 16px;
  }

  &-small {
    height: 24px;
    padding: 2px 8px;
  }

  &-loading {
    cursor: default;
  }

  &-primary {
    color: white;
    background: @primary;
    border-color: @primary;

    &:where(@{loadingClass}),
    &:hover {
      background: @primaryHover;
      border-color: @primaryHover;
    }
    &:active {
      background: @primaryActive;
      border-color: @primaryActive;
    }

    &:disabled {
      cursor: not-allowed;
      background: #f5f5f5;
      border-color: #c2c2c2;
      color: #c2c2c2;
    }

    &:where(@{ghostClass}) {
      color: @primary;
      background: transparent;

      &:hover,
      &:focus {
        background: transparent;
      }
    }

    &:where(@{dangerClass}):not(:disabled) {
      background: @danger;
      border-color: @danger;

      &:where(@{loadingClass}),
      &:hover {
        background: @dangerHover;
        border-color: @dangerHover;
      }

      &:active {
        background: @dangerActive;
        border-color: @dangerActive;
      }

      &:where(@{ghostClass}) {
        color: @danger;
        background: transparent;

        &:hover,
        &:focus {
          background: transparent;
        }
      }
    }
  }

  &-default {
    .lineBtn();
  }

  &-dashed {
    .lineBtn(dashed);
  }

  &-dotted {
    .lineBtn(dotted);
  }

  &-text {
    color: @color;
    border-color: transparent;

    &:where(@{loadingClass}),
    &:hover:not(:disabled) {
      background: #ecf5ff;
    }

    &:active:not(:disabled) {
      background: #cce7ff;
    }

    &:disabled {
      cursor: not-allowed;
      background: transparent;
      color: @colorDisabled;
    }

    &:where(@{ghostClass}):not(:disabled) {
      background: transparent;
      color: white;

      &:hover {
        background: transparent;
        color: @primaryHover;
      }
      &:active {
        background: transparent;
        color: @primaryActive;
      }
    }

    &:where(@{dangerClass}):not(:disabled) {
      color: @danger;

      &:where(@{loadingClass}),
      &:hover {
        background: #fdf2f2;
      }

      &:active {
        background: #ffdbdb;
      }

      &:where(@{ghostClass}) {
        background: transparent;
        color: white;
        &:hover {
          background: transparent;
          color: @dangerHover;
        }
        &:active {
          background: transparent;
          color: @dangerActive;
        }
      }
    }
  }
}

.lineBtn (@borderStyle: solid) {
  border-style: @borderStyle;

  &:where(@{loadingClass}),
  &:hover:not(:disabled) {
    color: @primaryHover;
    border-color: @primaryHover;
  }

  &:active:not(:disabled) {
    color: @primaryActive;
    border-color: @primaryActive;
  }

  &:disabled {
    cursor: not-allowed;
    background: #f5f5f5;
    border-color: #c2c2c2;
    color: #c2c2c2;
  }

  &:where(@{ghostClass}) {
    color: white;
    border-color: white;
    background: transparent;
  }

  &:where(@{dangerClass}):not(:disabled) {
    color: @danger;
    border-color: @danger;

    &:where(@{loadingClass}),
    &:hover {
      color: @dangerHover;
      border-color: @dangerHover;
    }

    &:active {
      color: @dangerActive;
      border-color: @dangerActive;
    }

    &:where(@{ghostClass}) {
      color: white;
      border-color: white;
      background: transparent;
    }
  }
}
